package com.artifexmundi.bale


import androidx.core.content.ContextCompat
import androidx.fragment.app.Fragment
import androidx.lifecycle.lifecycleScope
import android.animation.AnimatorInflater
import android.animation.AnimatorSet
import android.os.Bundle
import android.view.LayoutInflater
import android.view.View
import android.view.ViewGroup
import android.widget.ImageView
import androidx.navigation.fragment.findNavController
import com.artifexmundi.bale.databinding.FragmentGaaame222Binding
import com.google.android.material.snackbar.Snackbar
import kotlinx.coroutines.delay
import kotlinx.coroutines.launch


class Gaaame222Fragment : Fragment() {

    private val listBiiinds by lazy {
        listOf(
            nhnhjj.imgElem1,
            nhnhjj.imgElem2,
            nhnhjj.imgElem3,
            nhnhjj.imgElem4,
            nhnhjj.imgElem5,
            nhnhjj.imgElem6,
        )
    }

    private fun makevork() {
        listBiiinds.forEach {
            it.isEnabled = true
        }
    }

    private fun makeDontVork() {
        listBiiinds.forEach {
            it.isEnabled = false
        }
    }

    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
        try {
            val bgbbgbg = gtgtgt.random()

            for (element in 0..5) {
                if (bgbbgbg.contains(element)) {
                    hyjihyjhyihy[element].contentDescription = "ok"
                    val imaaaage = ContextCompat.getDrawable(requireActivity(), R.drawable.dog1)
                    hyjihyjhyihy[element].setImageDrawable(imaaaage)
                } else {
                    hyjihyjhyihy[element].contentDescription = "false"
                    hyjihyjhyihy[element].setImageDrawable(nhjhjjj.random())
                }
            }


            if (yhyhy) {
                gtjjgtjgtjgtjtigjigtjgt()
            }


            val hhyyhjuuj = requireContext().applicationContext.resources.displayMetrics.density
            nhnhjj.imgElem1.cameraDistance = 8000 * hhyyhjuuj
            nhnhjj.imgElem1Back.cameraDistance = 8000 * hhyyhjuuj


            pgtgtojtgjgtjiojgt()
            nhnhjj.imgElem2.setOnClickListener {
                bgbgbgffff()
                lifecycleScope.launch {
                    makeDontVork()
                    if (nhnhjj.imgElem2Back.contentDescription == "ok") {
                        nhnhjj.imgElem2.isEnabled = false
                        delay(900)
                        nhnhjj.imgElem2.visibility = View.INVISIBLE
                        njukukkjjj()
                        nhnhjj.imgElem2Back.contentDescription = "done"
                        if (h2hy5hy5yh5hy()) tgtgtgtgt()

                    } else {
                        delay(2000)
                        njukukkjjj()
                    }
                    makevork()
                }

            }

            gtjiojgtjjtgtgjitg()

            nhnhjj.imgElem4.setOnClickListener {
                makeDontVork()
                sdefdfvfvf()
                lifecycleScope.launch {
                    if (nhnhjj.imgElem4Back.contentDescription == "ok") {
                        nhnhjj.imgElem4.isEnabled = false
                        delay(900)
                        nhnhjj.imgElem4.visibility = View.INVISIBLE
                        bgmlkhyhyjyhjyhjiojhy()
                        nhnhjj.imgElem4Back.contentDescription = "done"

                        if (h2hy5hy5yh5hy()) tgtgtgtgt()
                    } else {
                        delay(2000)

                        bgmlkhyhyjyhjyhjiojhy()
                    }
                    makevork()
                }

            }

            gtogtjitjgjgtjitgjgtij()

            ghtgihgthgthgtngtgbbgtb()


        } catch (e: Exception) {
            hyjuujuj3uj3()
        }

        super.onViewCreated(view, savedInstanceState)
    }

    private fun ghtgihgthgthgtngtgbbgtb() {
        nhnhjj.imgElem6.setOnClickListener {
            makeDontVork()
            vbgmjkloo()
            lifecycleScope.launch {
                if (nhnhjj.imgElem6Back.contentDescription == "ok") {
                    nhnhjj.imgElem6.isEnabled = false
                    delay(900)
                    nhnhjj.imgElem6.visibility = View.INVISIBLE
                    hyjyhohyjojhyjhyjohyjio()
                    nhnhjj.imgElem6Back.contentDescription = "done"

                    if (h2hy5hy5yh5hy()) tgtgtgtgt()
                } else {
                    delay(2000)
                    hyjyhohyjojhyjhyjohyjio()
                }
                makevork()
            }
        }
    }

    private fun gtogtjitjgjgtjitgjgtij() {
        nhnhjj.imgElem5.setOnClickListener {
            makeDontVork()
            hyujkooppp()
            lifecycleScope.launch {
                if (nhnhjj.imgElem5Back.contentDescription == "ok") {
                    nhnhjj.imgElem5.isEnabled = false
                    delay(900)
                    nhnhjj.imgElem5.visibility = View.INVISIBLE
                    bghjj()
                    nhnhjj.imgElem5Back.contentDescription = "done"

                    if (h2hy5hy5yh5hy()) tgtgtgtgt()
                } else {
                    delay(2000)

                    bghjj()
                }
                makevork()
            }

        }
    }

    private fun gtjiojgtjjtgtgjitg() {
        nhnhjj.imgElem3.setOnClickListener {
            makeDontVork()
            vffffggg()
            lifecycleScope.launch {
                if (nhnhjj.imgElem3Back.contentDescription == "ok") {
                    nhnhjj.imgElem3.isEnabled = false
                    delay(900)
                    nhnhjj.imgElem3.visibility = View.INVISIBLE
                    xsdvghgh()
                    nhnhjj.imgElem3Back.contentDescription = "done"

                    if (h2hy5hy5yh5hy()) tgtgtgtgt()
                } else {
                    delay(2000)

                    xsdvghgh()
                }
                makevork()
            }

        }
    }

    private fun pgtgtojtgjgtjiojgt() {
        nhnhjj.imgElem1.setOnClickListener {
            makeDontVork()
            thhthtthtf()
            lifecycleScope.launch {
                if (nhnhjj.imgElem1Back.contentDescription == "ok") {
                    nhnhjj.imgElem1.isEnabled = false
                    delay(900)
                    nhnhjj.imgElem1.visibility = View.INVISIBLE
                    bgbgbgnhh()
                    nhnhjj.imgElem1Back.contentDescription = "done"
                    if (h2hy5hy5yh5hy()) tgtgtgtgt()
                } else {
                    delay(2000)
                    bgbgbgnhh()
                }
            }
            makevork()
        }
    }

    private fun gtjjgtjgtjgtjtigjigtjgt() {
        lifecycleScope.launch {
            thhthtthtf()
            bgbgbgffff()
            vffffggg()
            sdefdfvfvf()
            hyujkooppp()
            vbgmjkloo()

            delay(2000)

            bgbgbgnhh()
            njukukkjjj()
            xsdvghgh()
            bgmlkhyhyjyhjyhjiojhy()
            bghjj()
            hyjyhohyjojhyjhyjohyjio()
        }
    }

    private fun iniOnClickListener(view: View, funIsFront: Unit, funForBack: Unit) {
        val byhhgfdcvv = view as ImageView
        funIsFront
        lifecycleScope.launch {
            if (byhhgfdcvv.contentDescription == "ok") {
                view.isEnabled = false
                delay(1000)
                view.visibility = View.INVISIBLE
                funForBack
            } else {
                funForBack
            }
        }
        if (h2hy5hy5yh5hy()) {
            tgtgtgtgt()

        }
    }

    private fun tgtgtgtgt() {
        findNavController().navigate(R.id.action_gaaame2Fragment_to_gaame3Fragment)
    }

    private var gaaame222Binding: FragmentGaaame222Binding? = null
    private val nhnhjj
        get() = gaaame222Binding ?: throw RuntimeException("FragmentGaaaamyBinding = null")

    private fun hyjuujuj3uj3() {
        Snackbar.make(
            nhnhjj.root,
            "There is some error, try again",
            Snackbar.LENGTH_LONG
        ).show()
        requireActivity().onBackPressed()
    }

    val nhjhjjj by lazy {
        listOf(
            ContextCompat.getDrawable(requireActivity(), R.drawable.dog),
            ContextCompat.getDrawable(requireActivity(), R.drawable.dag),
        )
    }

    val hy2hy2hy = listOf(0, 2, 3)
    val variant2ggt = listOf(2, 3, 5)
    val h262hy = listOf(1, 4, 5)
    val variant4gt = listOf(0, 4, 5)
    val variant5gtgt = listOf(0, 3, 5)

    val gtgtgt = listOf(
        hy2hy2hy,
        variant2ggt,
        h262hy,
        variant4gt,
        variant5gtgt,
    ).shuffled()

    var hyhyhy = true
    var yhyhy = true

    val hyjihyjhyihy by lazy {
        listOf(
            nhnhjj.imgElem1Back,
            nhnhjj.imgElem2Back,
            nhnhjj.imgElem3Back,
            nhnhjj.imgElem4Back,
            nhnhjj.imgElem5Back,
            nhnhjj.imgElem6Back
        )
    }


    private fun hjhyyhihyjhyjiyh(): AnimatorSet {
        return AnimatorInflater.loadAnimator(
            requireContext().applicationContext,
            R.animator.front_animator
        ) as AnimatorSet
    }


    private val frontAnim1gtgt by lazy {
        hjhyyhihyjhyjiyh()
    }
    private val ggtt by lazy {
        hjhyyhihyjhyjiyh()
    }
    private val nhnhnnhnh by lazy {
        hjhyyhihyjhyjiyh()
    }
    private val hhhhhhhhhhh by lazy {
        hjhyyhihyjhyjiyh()
    }

    private fun nhnhynyhnhyyhjhy(): AnimatorSet {
        return AnimatorInflater.loadAnimator(
            requireContext().applicationContext,
            R.animator.back_animator
        ) as AnimatorSet
    }

    private val jjjjjuku by lazy {
        hjhyyhihyjhyjiyh()
    }
    private val kkkkikii by lazy {
        hjhyyhihyjhyjiyh()
    }


    private val hyyh2hy2hy6yh by lazy {
        nhnhynyhnhyyhjhy()
    }

    private val njmmkkk by lazy {
        nhnhynyhnhyyhjhy()
    }

    private val hy25hy5hy5hy by lazy {
        nhnhynyhnhyyhjhy()
    }
    private val nhjujjuujuj by lazy {
        nhnhynyhnhyyhjhy()
    }
    private val gt2h2hy5y5y by lazy {
        nhnhynyhnhyyhjhy()
    }
    private val h2hy5hy5yh52hy by lazy {
        nhnhynyhnhyyhjhy()
    }


    private fun gythhyhy(elemFront: ImageView) = elemFront.visibility == View.INVISIBLE

    private fun h2hy5hy5yh5hy(): Boolean {
        var counttteeer = 0
        for (i in hyjihyjhyihy) {
            if (i.contentDescription == "done") {
                counttteeer++
            }
        }
        return counttteeer == 3

    }

    override fun onPause() {
        onDestroy()
        super.onPause()
    }

    private fun bgbgbgnhh() {
        rfrfrr56(
            frontAnim1gtgt,
            hyyh2hy2hy6yh,
            nhnhjj.imgElem1,
            nhnhjj.imgElem1Back
        )
    }

    private fun njukukkjjj() {
        rfrfrr56(
            ggtt,
            njmmkkk,
            nhnhjj.imgElem2,
            nhnhjj.imgElem2Back
        )
    }

    private fun bgmlkhyhyjyhjyhjiojhy() {
        rfrfrr56(
            hhhhhhhhhhh,
            nhjujjuujuj,
            nhnhjj.imgElem4,
            nhnhjj.imgElem4Back
        )
    }

    private fun bghjj() {
        rfrfrr56(
            jjjjjuku,
            gt2h2hy5y5y,
            nhnhjj.imgElem5,
            nhnhjj.imgElem5Back
        )
    }

    private fun xsdvghgh() {
        rfrfrr56(
            nhnhnnhnh,
            hy25hy5hy5hy,
            nhnhjj.imgElem3,
            nhnhjj.imgElem3Back
        )
    }


    private fun hyjyhohyjojhyjhyjohyjio() {
        rfrfrr56(
            kkkkikii,
            h2hy5hy5yh52hy,
            nhnhjj.imgElem6,
            nhnhjj.imgElem6Back
        )
    }


    private fun thhthtthtf() {
        bvbvbbvvbvbvb(
            frontAnim1gtgt, hyyh2hy2hy6yh, nhnhjj.imgElem1, nhnhjj.imgElem1Back
        )
    }


    private fun sdefdfvfvf() {
        bvbvbbvvbvbvb(
            hhhhhhhhhhh, nhjujjuujuj, nhnhjj.imgElem4, nhnhjj.imgElem4Back
        )
    }

    private fun hyujkooppp() {
        bvbvbbvvbvbvb(
            jjjjjuku, gt2h2hy5y5y, nhnhjj.imgElem5, nhnhjj.imgElem5Back
        )
    }

    private fun vbgmjkloo() {
        bvbvbbvvbvbvb(
            kkkkikii, h2hy5hy5yh52hy, nhnhjj.imgElem6, nhnhjj.imgElem6Back
        )
    }

    private fun rfrfrr56(
        frontAnim: AnimatorSet,
        backAnim: AnimatorSet,
        elemFront: ImageView,
        elemBack: ImageView
    ) {
        frontAnim.setTarget(elemBack)
        backAnim.setTarget(elemFront)
        frontAnim.start()
        backAnim.start()
    }

    private fun bgbgbgffff() {
        bvbvbbvvbvbvb(
            ggtt, njmmkkk, nhnhjj.imgElem2, nhnhjj.imgElem2Back
        )
    }

    private fun vffffggg() {
        bvbvbbvvbvbvb(
            nhnhnnhnh, hy25hy5hy5hy, nhnhjj.imgElem3, nhnhjj.imgElem3Back
        )
    }


    private fun bvbvbbvvbvbvb(
        frontAnim: AnimatorSet,
        backAnim: AnimatorSet,
        elemFront: ImageView,
        elemBack: ImageView
    ) {
        frontAnim.setTarget(elemFront)
        backAnim.setTarget(elemBack)
        frontAnim.start()
        backAnim.start()
    }


    override fun onDestroy() {
        gaaame222Binding = null
        super.onDestroy()
    }


    override fun onCreateView(
        inflater: LayoutInflater, container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View {
        gaaame222Binding = FragmentGaaame222Binding.inflate(inflater, container, false)
        return nhnhjj.root
    }
}